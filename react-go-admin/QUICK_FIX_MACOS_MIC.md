# macOS 麦克风快速修复指南

## 🎯 问题
点击录音按钮后显示：**"未找到麦克风设备"**

## ⚡ 快速解决（3 步）

### 第 1 步：打开系统设置
- 点击屏幕左上角的  菜单
- 选择 **"系统设置..."**（或"系统偏好设置..."）

### 第 2 步：授权麦克风
**macOS Ventura (13.0+):**
1. 左侧找到 **"隐私与安全性"**
2. 向下滚动找到 **"麦克风"**
3. 打开你使用的浏览器开关（Chrome/Safari/Firefox）

**macOS Monterey (12.0) 及更早:**
1. 点击 **"安全性与隐私"**
2. 选择 **"隐私"** 标签
3. 左侧选择 **"麦克风"**
4. 点击左下角🔒解锁（输入密码）
5. 勾选你使用的浏览器
6. 点击🔒重新锁定

### 第 3 步：重启浏览器
- 完全退出浏览器（**Cmd+Q**）
- 重新打开浏览器
- 访问应用并点击录音按钮

## ✅ 验证

打开浏览器控制台（Cmd+Option+I），运行：
```javascript
navigator.mediaDevices.getUserMedia({ audio: true })
  .then(() => console.log('✅ 成功'))
  .catch(err => console.error('❌ 失败:', err.name))
```

## 🔍 仍然不行？

### 检查麦克风硬件
1. 打开 **"系统设置"** → **"声音"**
2. 选择 **"输入"** 标签
3. 对着麦克风说话
4. 观察输入电平是否有变化

### 清除浏览器权限
**Chrome:**
- 访问 `chrome://settings/content/microphone`
- 从"不允许"列表中移除当前网站

**Safari:**
- Safari → 设置 → 网站 → 麦克风
- 为当前网站选择"允许"

**Firefox:**
- 点击地址栏左侧图标
- 找到"使用麦克风"
- 选择"允许"

## 📝 常见错误

| 错误 | 原因 | 解决方法 |
|------|------|----------|
| NotFoundError | 系统未授权 | 按上述步骤授权 |
| NotAllowedError | 浏览器级拒绝 | 清除网站权限 |
| NotReadableError | 设备被占用 | 关闭其他使用麦克风的应用 |

## 💡 提示

- 授权后必须**完全重启浏览器**（Cmd+Q）
- 使用外接麦克风需要在"声音"设置中选择
- localhost 和 HTTPS 才能使用麦克风 API

## 📞 需要帮助？

查看详细指南：`MACOS_MICROPHONE_SETUP.md`
